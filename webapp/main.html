<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
        <meta charset="utf-8">
        <!--
<style>
html, body, #map-canvas {
height: 100%;
margin: 0;
padding: 0;
}
</style>

<script>
function initialize() {
var mapOptions = {
zoom: 15,
center: new google.maps.LatLng(41.8789, -87.6358)
};

var map = new google.maps.Map(document.getElementById('map-canvas'),
mapOptions);
}

function loadScript() {
var script = document.createElement('script');
script.type = 'text/javascript';
script.src = 'https://maps.googleapis.com/maps/api/js?v=3.exp' +
'&signed_in=true&callback=initialize';
document.body.appendChild(script);
}

window.onload = loadScript;

</script>
-->
        <!--            
<style type="text/css">
html, body, #map-canvas { height: 100%; margin: 0; padding: 0;}
</style>
<script type="text/javascript"
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCWSPVzmeo5-RfC8Kg0Ks-z41uzQO6zJBE">
</script>
<script>
function start()
{
var x = parseDouble(document.getElementsByName('x')[0].value);
console.log(x);
var y = parseFloat(document.getElementsByName('y')[0].value);
console.log(y);
//initialize(x,y);
}

function initialize(x,y)
{
x = parseFloat(document.getElementsByName('x')[0].value);
y = parseFloat(document.getElementsByName('y')[0].value);
var mapOptions = {
center: {lat: x, lng: y},
zoom: 13
};
var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);                  
}
google.maps.event.addDomListener(window, 'load', initialize(x,y)); 
</script>
<script>
function getTextFromURL()
{
var xmlHttp = new XMLHttpRequest;
// Get the longitude
var x = document.getElementsByName('x')[0].value;
console.log(x)
// Get the latitude
var y = document.getElementsByName('y')[0].value;
var link = "https://data.cityofchicago.org/resource/ijzp-q8t2.json?$limit=1&$where=within_circle(location," + x + "," + y + ",100)";
xmlHttp.open("GET", URL, true);
//xmlHttp.send(null);
console.log(xmlHttp.responseText);
return xmlHttp.responseText;
//initialize(parseInt(x),parseInt(y));
google.maps.event.addDomListener(window, 'load', initialize);
//myFunc();
}
</script>
-->
    </head>
    <body>
        <div style="z-index: 1; opacity: 0.8; position: absolute; left: 1%; top: 1%; background-color: white;">
            <!--<h1>&nbsp;Danger Detector</h1>-->
            <!--<h3>&nbsp;Click the button to test out the application.</h3>-->
            <p>Enter in the longitude and latitude<br> coordinates to request danger levels.</p>
            <form>X-Coord:<br><input type="text" name="x"><br>Y-Coord:<br><input type="text" name="y"><br><br>Radius:<br><input type="text"<br><br>

                <button onclick="initialize()">Get Coordinates</button>
            </form>
        </div>

        <style>
            html, body, #map-canvas {
                height: 100%;
                margin: 0;
                padding: 0;
            }
        </style>

        <script>
            var x = parseFloat(document.getElementsByName('x')[0].value);
            //alert(x);
            var y = parseFloat(document.getElementsByName('y')[0].value);
            
            function initialize() {
                    var mapOptions = {zoom: 18, center: new google.maps.LatLng(41.8789, -87.6358)
                        //center: new google.maps.LatLng(x,y)
                                     };
                    var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
            }

            
            function loadScript() {
                var script = document.createElement('script');
                script.type = 'text/javascript';
                script.src = 'https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&callback=initialize';
                document.body.appendChild(script);
            }

            window.onload = loadScript;
        </script>
        <!--
<script type="text/javascript">
function initialize(x,y)
{
var mapOptions = {
center: { lat: x, lng: y},
zoom: 13
};
var map = new google.maps.Map(document.getElementById('map-canvas'),
mapOptions);
}
google.maps.event.addDomListener(window, 'load', initialize);
</script>
-->
        <div id="map-canvas"></div>
    </body>
</html>